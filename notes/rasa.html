<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<link rel="icon" type="image/png" href="themes/favicon.png">
<title>Rasa Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Rasa Notes</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_rasa_products">1. Rasa Products</a>
<ul class="sectlevel2">
<li><a href="#_policies">1.1. Policies</a></li>
</ul>
</li>
<li><a href="#_nlu_pipeline">2. NLU Pipeline</a>
<ul class="sectlevel2">
<li><a href="#_arten_von_nlu_pipelines">2.1. Arten von NLU Pipelines</a></li>
<li><a href="#_dietclassifier">2.2. DIETClassifier</a></li>
<li><a href="#_fallbackclassifier">2.3. FallbackClassifier</a></li>
<li><a href="#_crfentityextractor">2.4. CRFEntityExtractor</a></li>
<li><a href="#_policy">2.5. Policy</a></li>
<li><a href="#_comparing_nlu_pipelines">2.6. Comparing NLU Pipelines</a></li>
<li><a href="#_rasa_open_source">2.7. Rasa Open Source</a></li>
<li><a href="#_rasa_enterprise">2.8. Rasa Enterprise</a></li>
<li><a href="#_rasa_x">2.9. Rasa X</a></li>
</ul>
</li>
<li><a href="#_installation">3. Installation</a>
<ul class="sectlevel2">
<li><a href="#_additional_dependencies">3.1. Additional Dependencies</a></li>
<li><a href="#_conda">3.2. Conda</a></li>
</ul>
</li>
<li><a href="#_create_the_project">4. Create the project</a></li>
<li><a href="#_train_your_bot">5. Train your bot</a>
<ul class="sectlevel2">
<li><a href="#_add_new_intents">5.1. Add new intents</a></li>
<li><a href="#_add_responses">5.2. Add responses</a></li>
<li><a href="#_create_stories">5.3. Create stories</a></li>
<li><a href="#_run_your_new_stories">5.4. Run your new stories</a></li>
<li><a href="#_andere_cli_befehle">5.5. Andere CLI Befehle</a></li>
</ul>
</li>
<li><a href="#_komponenten">6. Komponenten</a>
<ul class="sectlevel2">
<li><a href="#_intents">6.1. Intents</a></li>
<li><a href="#_responses">6.2. Responses</a></li>
<li><a href="#_slots">6.3. Slots</a></li>
<li><a href="#_entities">6.4. Entities</a></li>
<li><a href="#_actions">6.5. Actions</a></li>
<li><a href="#_forms">6.6. Forms</a></li>
<li><a href="#_synonyms">6.7. Synonyms</a></li>
<li><a href="#_rules">6.8. Rules</a></li>
</ul>
</li>
<li><a href="#rasa_action_server">7. Rasa Action Server</a>
<ul class="sectlevel2">
<li><a href="#_running_the_rasa_sdk_action_server">7.1. Running the Rasa SDK Action Server</a></li>
</ul>
</li>
<li><a href="#_airtable">8. Airtable</a></li>
<li><a href="#_twilio">9. Twilio</a>
<ul class="sectlevel2">
<li><a href="#_ngrok">9.1. Ngrok</a></li>
</ul>
</li>
<li><a href="#_conversation_driven_development_cdd">10. Conversation-Driven Development CDD</a></li>
<li><a href="#_rasa_x_2">11. Rasa X</a>
<ul class="sectlevel2">
<li><a href="#_installation_3">11.1. Installation</a></li>
<li><a href="#_production">11.2. Production</a></li>
</ul>
</li>
<li><a href="#_troubleshooting_2">12. Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#_port_5005_already_in_use">12.1. Port 5005 already in use</a></li>
<li><a href="#_rasa_command_not_found">12.2. Rasa: command not found</a></li>
</ul>
</li>
<li><a href="#_links">13. Links</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_rasa_products"><a class="anchor" href="#_rasa_products"></a>1. Rasa Products</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Der Rasa Stack wird in Rasa <strong>NLU</strong> und Rasa <strong>Core</strong> aufgeteilt. Diese sind so aufgebaut, dass sie unabhängig voneinander eingesetzt werden können. So besteht die Möglichkeit, nur einen Teil der Architektur auf Rasa aufzubauen und zusätzlich weitere Services mit einzubinden.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rasa Core</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Rasa Core ist verantwortlich für den Conversation Flow, Context-Handling, Bot-Responses und Session Management. Dabei kann auf der Rasa NLU oder anderen Services aufgebaut werden, die die Intent Recognition und Entity Extraction übernehmen und die Ergebnisse dem Rasa Core zur Verfügung stellen.</p>
</div>
<div class="paragraph">
<p>RASA Core bezieht sich dabei auf die Hauptkomponente, die die Nachrichten erhält und darauf antwortet.</p>
</div>
<div class="paragraph">
<p>Der Rasa Core hält für jede Session, also für jeden User, einen <strong>Tracker</strong>. Dieser enthält den momentanen Zustand der Konversationen, der jeweiligen User. Bekommt der Bot nun eine Nachricht, wird zuerst der <strong>Interpreter</strong> durchlaufen, welcher den Originaltext als Eingabe bekommt, und die Eingabe, den Intent und die extrahierten Entities zurückgibt. Zusammen mit dem aktuellen Zustand des Trackers entscheidet die <strong>Policy</strong> Komponente nun, welche <strong>Action</strong>, also Antwort des Bots, als nächstes ausgeführt werden soll. Diese Entscheidung wird nicht durch einfache Regeln getroffen, sondern genauso wie Intents oder Entities, auf der Grundlage von einem, mit Machine Learning, trainierten Model.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/rasa-core.png" alt="rasa core" width="80%"></span></p>
</div>
<div class="paragraph">
<p><a href="https://botfriends.de/blog/botwiki/rasa-core/" class="bare">https://botfriends.de/blog/botwiki/rasa-core/</a></p>
</div>
<div class="sect2">
<h3 id="_policies"><a class="anchor" href="#_policies"></a>1.1. Policies</h3>
<div class="paragraph">
<p>Der Assistent benützt Policies um zu entscheiden, welche Action als nächstes ausgeführt werden soll. Es gibt machine-learning und rule-based policies.</p>
</div>
<div class="paragraph">
<p>Hierbei kann man die Policies beispielsweise ändern. Dies macht man in der <code>config.yml</code> Datei.</p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/policies/" class="bare">https://rasa.com/docs/rasa/policies/</a></p>
</div>
<div class="paragraph">
<p>Bei den Policies gibt es unterschiedliche Priorities, die dann zum Einsatz kommen, wenn mehrere Policies dieselbe Confidence vorhergesagt haben.</p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/policies#policy-priority" class="bare">https://rasa.com/docs/rasa/policies#policy-priority</a></p>
</div>
<div class="sect3">
<h4 id="_ted_policy"><a class="anchor" href="#_ted_policy"></a>1.1.1. TED Policy</h4>
<div class="paragraph">
<p>Die TED Policy steht für Transformer Embedding Dialogue Policy und wird meistens standardmäßig verwendet.</p>
</div>
<div class="paragraph">
<p>Bei jedem Dialog bekommt die TED Policy drei Informationen als Input. Die Message des Users, die vorherige Action die vorhergesagt wurde und Slots und aktive Forms. Dann werden diese in den Dialogue Transformer Encoder gepackt und anschließend werden sogenannte Dense Layer verwendet. Danach wird die Ähnlichkeit zwischen den System Actions und dem Dialogue Embedding berechnet und zum Schluss werden noch CRF Algorithmen verwendet, um Entities zu erkennen.</p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/policies#ted-policy" class="bare">https://rasa.com/docs/rasa/policies#ted-policy</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rasa NLU</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Rasa NLU hat grundsätzlich zwei Hauptaufgaben.</p>
</div>
<div class="paragraph">
<p>Zum einen wäre da die <strong>Intent Recognition</strong> und die <strong>Entity Recognition</strong>.</p>
</div>
<div class="paragraph">
<p>Die Intent Recognition, ist die Erkennung der Nutzer-Absichten. Dazu muss die NLU mit ausreichend Utterances, also Responses trainiert werden. Dabei gibt die NLU alle zugehörigen Intents geordnet nach dem Confidence Score zurück. Rasa verfügt demnach über ein Multi Intent Matching.</p>
</div>
<div class="paragraph">
<p>Außerdem gibt es noch die Entity Recognition, die dafür zuständig ist Entities, also wichtige Informationen, aus natürlicher Sprache zu extrahieren.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/rasa_nlu.png" alt="rasa nlu"></span></p>
</div>
<div class="paragraph">
<p><a href="https://botfriends.de/blog/botwiki/rasa-nlu/" class="bare">https://botfriends.de/blog/botwiki/rasa-nlu/</a></p>
</div>
<div class="paragraph">
<p>Der Aufbau der NLU ist vollständig konfigurierbar mithilfe der sogenannten <strong>Pipeline</strong>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nlu_pipeline"><a class="anchor" href="#_nlu_pipeline"></a>2. NLU Pipeline</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rasa Open Source bietet bei der Initialisierung des Projekts eine Standard-NLU-Konfiguration.</p>
</div>
<div class="paragraph">
<p>In Rasa Open Source werden eingehende Nachrichten von einer Reihe von Komponenten verarbeitet. Diese Komponenten werden nacheinander in einer sogenannten Processing Pipeline ausgeführt, die im <code>config.yml</code> File definiert ist. Wenn man eine NLU-Pipeline auswählt, kann man allerdings sein Model anpassen und an das Dataset verfeinern.</p>
</div>
<div class="paragraph">
<p>Auf diesem Bild sind alle Komponenten und der Lifecycle zu sehen:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/component-lifecycle.png" alt="component lifecycle"></span>
<a href="https://rasa.com/docs/rasa/tuning-your-model" class="bare">https://rasa.com/docs/rasa/tuning-your-model</a></p>
</div>
<div class="paragraph">
<p>Bevor die erste Komponente mit der Create-Funktion erstellt wird, wird ein sogenannter Kontext erstellt (der nichts anderes als ein Python-dict ist). Dieser Kontext wird verwendet, um Informationen zwischen den Komponenten zu übergeben. Beispielsweise kann eine Komponente Merkmalsvektoren für die Trainingsdaten berechnen, diese im Kontext speichern und eine andere Komponente kann diese Merkmalsvektoren aus dem Kontext abrufen und eine Intent Klassifikation durchführen.</p>
</div>
<div class="paragraph">
<p>Zunächst wird der Kontext mit allen Konfigurationswerten gefüllt, die Pfeile im Bild zeigen die Aufrufreihenfolge und visualisieren den Pfad des übergebenen Kontexts. Nachdem alle Komponenten trainiert und beibehalten wurden, wird das finale context dictionary verwendet, um die Metadaten des Models beizubehalten.</p>
</div>
<div class="paragraph">
<p><a href="http://35.196.60.7/docs/nlu/0.14.4/choosing_pipeline/#component-lifecycle" class="bare">http://35.196.60.7/docs/nlu/0.14.4/choosing_pipeline/#component-lifecycle</a></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/pipeline.png" alt="pipeline"></span>
<a href="https://www.udemy.com/course/learn-to-build-incredible-ai-chatbots-using-rasa/" class="bare">https://www.udemy.com/course/learn-to-build-incredible-ai-chatbots-using-rasa/</a></p>
</div>
<div class="sect2">
<h3 id="_arten_von_nlu_pipelines"><a class="anchor" href="#_arten_von_nlu_pipelines"></a>2.1. Arten von NLU Pipelines</h3>
<div class="paragraph">
<p>Es gibt verschiedene bereits konfigurierte Pipelines.</p>
</div>
<div class="paragraph">
<p>Grundsätzlich ist zwischen Pipelines zu unterscheiden, indem man sich informiert, ob sie <code>pre-trained word vectors</code> verwenden oder nicht.</p>
</div>
<div class="sect3">
<h4 id="_beispiele_für_pipelines_mit_pre_trained_word_vectors"><a class="anchor" href="#_beispiele_für_pipelines_mit_pre_trained_word_vectors"></a>2.1.1. Beispiele für Pipelines mit pre-trained word vectors</h4>
<div class="paragraph">
<p>Der Vorteil von Pipelines, die pre-trained word vectors verwendet ist, dass diese bereits aus der jeweiligen Sprache word vectors besitzen. Somit weiß das Model beispielsweise, dass Äpfel und Birnen ähnlich sind ohne, dass dies in den Intents irgendwo spezifiert werden muss.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>language: "de"

pipeline: "spacy_sklearn"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die SpaCy Pipeline verwendet pre-trained word vectors von GloVe oder fastText.</p>
</div>
<div class="paragraph">
<p>Es gibt außerdem auch noch Pipelines von <code>MITIE</code>. Diese verwendet <code>MITIE</code> als Source für die word vectors. Ein Vorteil von MITIE ist, dass man hier auch seine eigenen word vectors trainieren kann, indem man einen Corpus von Wikipedia oder ähnlichen Seiten verwendet. Allerdings wird MITIE meistens nicht empfohlen und es könnte auch sein, dass MITIE demnächstet deprecated sein wird.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>language: "de"

pipeline: "mitie_sklearn"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_beispiele_für_pipelines_ohne_pre_trained_word_vectors"><a class="anchor" href="#_beispiele_für_pipelines_ohne_pre_trained_word_vectors"></a>2.1.2. Beispiele für Pipelines ohne pre-trained word vectors</h4>
<div class="paragraph">
<p>Der Vorteil von Pipelines ohne pre-trained word vectors ist, dass diese speziell auf den Fachbereich angepasst sind, für den man den Chatbot entwickelt.</p>
</div>
<div class="paragraph">
<p>Als Beispiel kann man die Wörter "balance" und "symmetry" aus dem Englischen sehen. Diese Wörter sind eng miteinander verwandt. Allerdings kann im Kontext von Banken das Wort "balance" auch mit "cash" verwandt sein. Bei einem pre-trained Model würden diese Wortvektoren nicht nah aneinander liegen, aber wenn man einen Chatbot hat der nur Intents besitzt, die mit Banken und Rechnungswesen zu tun haben, werden diese zwei Wörter "balance" und "cash" ohne pre-trained word vectors als ähnlich erkannt werden.</p>
</div>
<div class="paragraph">
<p>Außerdem benutzen diese Pipelines kein sprach-spezifisches Model und somit kann man sie in allen Sprachen verwenden, die tokenisiert werden kann.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>language: "de"

pipeline: "tensorflow_embedding"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Bag-of-word-vectors Ansatz ist zwar sehr gut aber leider auch nicht perfekt. Ein Problem davon ist, dass er oftmals keine fachspezifischen Begriffe kennt und außerdem können Typos nicht als Wortvektoren gelernt werden. Außerdem ist das Problem bei pre-trained word vectors, dass zehntausende Vektoren gespeichert werden, die vermutlich nie verwendet werden.</p>
</div>
<div class="paragraph">
<p>Mit dem Tensorflow-Embedding macht man im Grunde genommen genau das Gegenteil. Diese Pipeline verwendet keine pre-trained vectors und sollte mit jeder Sprache verwendet werden können. Diese Pipeline lernt Embeddings für die Intents und für die Wörter und die Embeddings werden verwendet um die Ähnlichkeit zwischen dem Input und den Intents zu ermitteln.</p>
</div>
<div class="paragraph">
<p><a href="https://medium.com/rasa-blog/supervised-word-vectors-from-scratch-in-rasa-nlu-6daf794efcd8" class="bare">https://medium.com/rasa-blog/supervised-word-vectors-from-scratch-in-rasa-nlu-6daf794efcd8</a></p>
</div>
<div class="paragraph">
<p><a href="http://35.196.60.7/docs/nlu/0.14.4/choosing_pipeline/" class="bare">http://35.196.60.7/docs/nlu/0.14.4/choosing_pipeline/</a></p>
</div>
<div class="paragraph">
<p>Alle Komponenten der Pipeline können hier eingesehen werden:</p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/components" class="bare">https://rasa.com/docs/rasa/components</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasahq.github.io/rasa-nlu-examples/" class="bare">https://rasahq.github.io/rasa-nlu-examples/</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dietclassifier"><a class="anchor" href="#_dietclassifier"></a>2.2. DIETClassifier</h3>
<div class="paragraph">
<p>DIET steht für "Dual Intent and Entity Transformer" der Name ist schon relativ vielsagend, DIET kann Intents klassifizieren und Entities erkennen.</p>
</div>
<div class="paragraph">
<p>Was bedeutet eigentlich Klassifizieren und was macht ein "Classifier" überhaupt?</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/classifiers.png" alt="classifiers"></span></p>
</div>
<div class="paragraph">
<p>Ein Classifier nimmt den User Input und findet den passenden Intent aus unserem NLU.yml file dazu, ohne DIET würde man noch einen Entity Extractor brauchen, der aus dem Input Entities extrahiert jedoch kann DIET dies auch.</p>
</div>
<div class="paragraph">
<p>In dem Beispiel vom Bild oben würden wir dank DIET wissen wie der Intent lautet und das der Name Vincet</p>
</div>
</div>
<div class="sect2">
<h3 id="_fallbackclassifier"><a class="anchor" href="#_fallbackclassifier"></a>2.3. FallbackClassifier</h3>
<div class="paragraph">
<p>Den <code>FallbackClassifier</code> verwendet man um mit Nachrichten umzugehen, bei denen nur eine sehr niedrige Confidence vorhergesagt wurde. In diesem Fall wird dann ein Intent mit dem Namen <code>nlu_fallback</code> vorhergesagt, welchen man dann behandeln kann und beispielsweise als Antwort immer definiert, dass der User seine Nachricht neu formulieren soll.</p>
</div>
<div class="paragraph">
<p>Die Confidence wird hierbei auf den Wert gesetzt welcher im <code>Threshold</code> angegeben wird.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pipeline:
- name: FallbackClassifier
  threshold: 0.7</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/fallback-handoff/#nlu-fallback" class="bare">https://rasa.com/docs/rasa/fallback-handoff/#nlu-fallback</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/components#fallbackclassifier" class="bare">https://rasa.com/docs/rasa/components#fallbackclassifier</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_crfentityextractor"><a class="anchor" href="#_crfentityextractor"></a>2.4. CRFEntityExtractor</h3>
<div class="paragraph">
<p><span class="image"><img src="../images/extractor.PNG" alt="extractor"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_policy"><a class="anchor" href="#_policy"></a>2.5. Policy</h3>
<div class="paragraph">
<p>Eine Policy sind die Techniken die beachtet werden wie der Bot dem User antwortet.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/policy.PNG" alt="policy"></span></p>
</div>
<div class="paragraph">
<p>Falls mehrere policies eine Antwort mit derselben Genauigkeit hätten, wird nach der Priorität die Antwort gewählt:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/policyPriority.PNG" alt="policyPriority"></span></p>
</div>
<div class="sect3">
<h4 id="_rule_policy"><a class="anchor" href="#_rule_policy"></a>2.5.1. Rule Policy</h4>
<div class="paragraph">
<p>Wenn man das rule.yml file und die rules die daran stehen benutzen will, muss man die Rule Policy bei den policies einstellen diese ist jedoch sowieso standard mäßig an</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/rule.PNG" alt="rule"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_ted_policy_2"><a class="anchor" href="#_ted_policy_2"></a>2.5.2. TED Policy</h4>
<div class="paragraph">
<p>Die TED Policy ist eine ML Policy die sich vorhergehende Aktionen ansieht, um die nächste Antwort zu bestimmen</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/ted.PNG" alt="ted"></span></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_comparing_nlu_pipelines"><a class="anchor" href="#_comparing_nlu_pipelines"></a>2.6. Comparing NLU Pipelines</h3>
<div class="paragraph">
<p>You can compare two NLU pipelines by using this command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa test nlu --nlu data/nlu.yml --config config_1.yml config_2.yml</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are two parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Training</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This module allows you to train models on your own data. Having your own data to train allows you to develop a NLU that is business specific.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Server</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This module serves as the training model to the chatbot. It can be hosted as an API service and runs at the back end.</p>
</div>
<div class="paragraph">
<p>The message is basically handled at two stages: one at the Core
module, which manages the conversation, and one at the NLU module,
which provides the essential language services.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/rasa-core-nlu.png" alt="rasa core nlu" width="80%"></span></p>
</div>
<div class="paragraph">
<p><strong>Singh, Abhishek, Ramasubramanian, Karthik, Shivam, Shrey</strong>: Building an Enterprise Chatbot
Work with Protected Enterprise Data Using Open Source Frameworks <strong>ISBN</strong>: <a href="https://isbnsearch.org/isbn/9781484250341">978-1-4842-5034-1</a></p>
</div>
<div class="paragraph">
<p><a href="https://botfriends.de/blog/botwiki/rasa/" class="bare">https://botfriends.de/blog/botwiki/rasa/</a></p>
</div>
<div class="paragraph">
<p><a href="https://botfriends.de/blog/botwiki/rasa-nlu/" class="bare">https://botfriends.de/blog/botwiki/rasa-nlu/</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_rasa_open_source"><a class="anchor" href="#_rasa_open_source"></a>2.7. Rasa Open Source</h3>

</div>
<div class="sect2">
<h3 id="_rasa_enterprise"><a class="anchor" href="#_rasa_enterprise"></a>2.8. Rasa Enterprise</h3>

</div>
<div class="sect2">
<h3 id="_rasa_x"><a class="anchor" href="#_rasa_x"></a>2.9. Rasa X</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>3. Installation</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create your directory</p>
</li>
<li>
<p>Install Python</p>
</li>
<li>
<p>Create a virtual environment (optional but recommended)</p>
</li>
<li>
<p>Install Rasa Open Source</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>sudo apt update
sudo apt install python3-dev python3-pip python3-venv</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a virtual environment (optional but recommended)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>python3 -m venv ./venv
source ./venv/bin/activate</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install Rasa Open Source</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pip3 install -U pip
pip3 install rasa</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um nun zu festzustellen, ob Rasa installiert ist kann man zum Beispiel <code>--version</code> nutzen um die installierten Version von <code>Rasa</code>, <code>Rasa SDK</code>, <code>Rasa X</code> und <code>Python</code> zu sehen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa --help
rasa --version

# zum Beispiel
Rasa Version      :         2.8.3
Minimum Compatible Version: 2.8.0
Rasa SDK Version  :         2.8.1
Rasa X Version    :         0.39.3
Python Version    :         3.8.8
Operating System  :         Linux-5.11.0-36-generic-x86_64-with-glibc2.10
Python Path       :         /home/lukas/anaconda3/bin/python</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_additional_dependencies"><a class="anchor" href="#_additional_dependencies"></a>3.1. Additional Dependencies</h3>
<div class="paragraph">
<p>Man kann bei Rasa auch andere Machine Learning Algorithmen, wie <code>spaCy</code> oder <code>MITIE</code> verwenden. Um diese zu installieren, verwendet man folgende Befehle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SpaCy</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pip3 install rasa[spacy]
python3 -m spacy download de_core_web_md</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>MITIE</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pip3 install git+https://github.com/mit-nlp/MITIE.git
pip3 install rasa[mitie]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Oder um alle Dependencies zu installieren kann man auch optional folgenden Befehl verwenden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pip3 install rasa[full]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conda"><a class="anchor" href="#_conda"></a>3.2. Conda</h3>
<div class="paragraph">
<p>Conda ist ein Open-Source-Paketmanager der sowohl auf Windows, macOS und Linux läuft. Außerdem ist Conda auch ein environment manager mit dem man leicht environments erzeugen und wechseln kann, wenn man beispielsweise für eine bestimmte Anwendung eine andere Version eines Packages braucht.</p>
</div>
<div class="paragraph">
<p>In diesem Fall wurde Conda verwendet, da es beim Trainieren von Rasa Probleme und folgende Fehlermeldung beim Starten gab und ein möglicher Lösungsansatz dafür ist, dass man statt <code>pip</code> Conda verwendet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>...
AttributeError: module ‘tensorflow.python.keras.engine.training’ has no attribute ‘enable_multi_worker’</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://forum.rasa.com/t/module-tensorflow-python-keras-engine-training-has-no-attribute-enable-multi-worker/41502" class="bare">https://forum.rasa.com/t/module-tensorflow-python-keras-engine-training-has-no-attribute-enable-multi-worker/41502</a></p>
</div>
<div class="sect3">
<h4 id="_installation_2"><a class="anchor" href="#_installation_2"></a>3.2.1. Installation</h4>
<div class="paragraph">
<p>Falls man nach der Installation von Conda immer noch folgende Fehlermeldung bekommt, muss man noch Conda zum Path hinzufügen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>conda: command not found</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dies macht man folgendermaßen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>export PATH="/home/username/anaconda3/bin/:$PATH"</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://stackoverflow.com/questions/35246386/conda-command-not-found" class="bare">https://stackoverflow.com/questions/35246386/conda-command-not-found</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_environment_erstellen"><a class="anchor" href="#_environment_erstellen"></a>3.2.2. Environment erstellen</h4>
<div class="paragraph">
<p>Um ein Environment zu erstellen, müssen folgende Befehle ausgeführt werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>conda create --name rasa_env python=3.7
conda activate rasa_env</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html" class="bare">https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html</a></p>
</div>
<div class="paragraph">
<p>Anschließend müssen Rasa und alle gewünschten Packages installiert werden.</p>
</div>
<div class="paragraph">
<p>Zum Beispiel Rasa X mit dem folgendem Befehl:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pip install --use-deprecated=legacy-resolver rasa-x --extra-index-url https://pypi.rasa.com/simple</code></pre>
</div>
</div>
<div class="paragraph">
<p>In diesem Fall wird die alte Logik von pip verwendet, da die Installation mit <code>pip 21</code> stecken bleibt.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_the_project"><a class="anchor" href="#_create_the_project"></a>4. Create the project</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To initalize to project you need to run</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa init</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/rasa_init.png" alt="rasa init"></span></p>
</div>
<div class="paragraph">
<p>You can also use Docker for this. The only difference with this is that you&#8217;ll be running Rasa inside a Docker container.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>docker run -v $(pwd):/app rasa/rasa:2.8.0-full init --no-prompt</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>After that you can open the project in your preferred IDE.</p>
</li>
<li>
<p>To start a server with your trained model you use</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa run</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_train_your_bot"><a class="anchor" href="#_train_your_bot"></a>5. Train your bot</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_add_new_intents"><a class="anchor" href="#_add_new_intents"></a>5.1. Add new intents</h3>
<div class="paragraph">
<p>Intents are stored in the <code>data/nlu.md</code> file.
The syntax to create a new intent is as following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>## intent:&lt;intent name&gt;
- &lt;phrase 1&gt;
- &lt;phrase 2&gt;
- &lt;phrase 3&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re using a newer version of Rasa you&#8217;ll have a <code>nlu.yml</code> file insead</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>- intent: &lt;intent name&gt;
  examples: |
    - &lt;phrase 1&gt;
    - &lt;phrase 2&gt;
    - &lt;phrase 3&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now to identify these new intents you have to add them to the list found
in your <code>domain.yml</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - &lt;your newly created intent&gt;
  ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_add_responses"><a class="anchor" href="#_add_responses"></a>5.2. Add responses</h3>
<div class="paragraph">
<p>To add responses the chatbot should give go to the <code>domain.yml</code> file.
The syntax for adding a new response looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>responses:
  utter_greet:
  - text: "Hey! How are you?"

  utter_&lt;name of your response&gt;:
  - text: "&lt;text&gt;"
    image: "&lt;img link&gt;"
  ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_stories"><a class="anchor" href="#_create_stories"></a>5.3. Create stories</h3>
<div class="paragraph">
<p>To use your created intents and responses you have to define so-called
<code>stories</code> in your <code>data/stories.yml</code> file.</p>
</div>
<div class="paragraph">
<p>The syntax for markdown looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>## &lt;name of your story&gt;
* &lt;name of the intent that is triggered&gt;
  - &lt;response that should be provided&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And this is the syntax for yml files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>- story: &lt;name of your story&gt;
  steps:
    - intent: &lt;name of the intent that is triggered&gt;
    - action: &lt;response that should be provided&gt;
    - intent: &lt;name of the intent that is triggered&gt;
    - action: &lt;response that should be provided&gt;
    ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_your_new_stories"><a class="anchor" href="#_run_your_new_stories"></a>5.4. Run your new stories</h3>
<div class="paragraph">
<p>Um zu überprüfen ob alles richtig gemacht wurde kann man den Befehl <code>validate</code> nützen, welcher angibt ob es irgendwelche Fehler im Projekt gibt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa data validate</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um das neue Model zu nutzen muss man dieses zuerst neu trainieren. Dies ermöglicht es dem Model alle neuen Dinge, die wir gerade implementiert im <code>data/stories.yml</code> und <code>domain.yml</code> File zu lernen.</p>
</div>
<div class="paragraph">
<p>Um sein Model zu trainieren benützt man folgenden Befehl:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa train</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um alle Optionen und Flags für den Trainingscommand zu erfahren kann man sich <code>--help</code> zur Hilfe nehmen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa train --help</code></pre>
</div>
</div>
<div class="paragraph">
<p>Danach kann man den Server starten und eine neue Chat-Session starten, indem man den <code>rasa shell</code> nützt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa shell</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can start asking your bot your new defined questions. Keep in mind that the text doesn&#8217;t have to be exactly like you wrote it and that the assistant will still be able to recognize it even with a few differences.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/rasa_shell.png" alt="rasa shell"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_andere_cli_befehle"><a class="anchor" href="#_andere_cli_befehle"></a>5.5. Andere CLI Befehle</h3>
<div class="paragraph">
<p>Um eine interaktive Lernsession mit dem Bot zu starten, verwendet man den Befehl <code>rasa interactive</code>. Dabei wird einem in der Konsole ständig angezeigt, wie der Bot nun reagieren würde und man kann ihm direkt Feedback geben, ob die folgende Aktion richtig oder falsch ist.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa interactive</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/rasa-interactive.png" alt="rasa interactive"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_komponenten"><a class="anchor" href="#_komponenten"></a>6. Komponenten</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_intents"><a class="anchor" href="#_intents"></a>6.1. Intents</h3>
<div class="paragraph">
<p><code>Intents</code> sind die Absichten hinter der Nachricht des Benutzers. Als Intents werden also alle möglichen Beispielssätze definiert, die
ein Benutzer sagen könnte um eine bestimmte Absicht auszudrücken.</p>
</div>
<div class="paragraph">
<p><code>Intents</code> werden in dem <code>nlu.yml</code> File wie folgt angegeben:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>## intent:&lt;intent name&gt;
- &lt;phrase 1&gt;
- &lt;phrase 2&gt;
- &lt;phrase 3&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_responses"><a class="anchor" href="#_responses"></a>6.2. Responses</h3>
<div class="paragraph">
<p><code>Responses</code> sind die Antworten, die vom Bot gegeben werden, wenn ein bestimmter <code>Intent</code> erkannt wurde.</p>
</div>
<div class="paragraph">
<p><code>Responses</code> fügt man in seinem <code>domain.yml</code> File wie folgt ein:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>responses:
  utter_greet:
  - text: "Hey! How are you?"

  utter_&lt;name of your response&gt;:
  - text: "&lt;text&gt;"
    image: "&lt;img link&gt;"
  ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_slots"><a class="anchor" href="#_slots"></a>6.3. Slots</h3>
<div class="paragraph">
<p>Slots are the bot&#8217;s memory. They are key-value pairs and can be used to store information the user provided, similar to entities, like locations or information about the outside world.</p>
</div>
<div class="paragraph">
<p>In this example we are using slots for a form.</p>
</div>
<div class="paragraph">
<p>The syntax for creating a slot inside the <code>domain.yml</code> file is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>slots:
  slot_name: &lt;slot name&gt;
    type: &lt;type&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_entities"><a class="anchor" href="#_entities"></a>6.4. Entities</h3>
<div class="paragraph">
<p>Entities are structured pieces of information inside a user message like for example a location or a job or a name.</p>
</div>
<div class="paragraph">
<p>In your <code>domain.yml</code> file you write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>entities:
  - &lt;entity name&gt;
  - &lt;entity name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um die Entities in den Intents anzugeben, verwendet man folgende Syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Hallo mein Name ist [Lukas](name).
Ich hätte gerne eine [große](size) [Pizza](meal)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_entity_roles"><a class="anchor" href="#_entity_roles"></a>6.4.1. Entity Roles</h4>
<div class="paragraph">
<p>Um die Entities in den Intents anzugeben, verwendet man folgende Syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Entity Roles können sinnvoll in manchen Szenarien sein. Zum Beispiel bei folgendem Satz:</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Buche einen Flug von [Linz](city) nach [London](city).</code></pre>
</div>
</div>
<div class="paragraph">
<p>In diesem Fall sind sowohl <code>Linz</code> als auch <code>London</code> zwar richtig gekennzeichnet als <code>city</code> Entity, allerdings reicht
diese Information noch nicht aus, damit der Chatbot richtig reagieren kann.</p>
</div>
<div class="paragraph">
<p>Hierbei wäre es praktisch, wenn man noch angibt, welche dieser zwei Städte das Ziel und welche der Abflugsort ist.</p>
</div>
<div class="paragraph">
<p>Um die Entities in den Intents anzugeben, verwendet man folgende Syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Dies macht man mit `Entity Roles`.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_entity_groups"><a class="anchor" href="#_entity_groups"></a>6.4.2. Entity Groups</h4>
<div class="paragraph">
<p><code>Entity Groups</code> können genutzt werden, wenn man Entites miteinander gruppieren möchte.</p>
</div>
<div class="paragraph">
<p>Dies kann zum Beispiel hier sinnvoll sein:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Ich hätte gerne eine große [Pizza](meal) mit [Pilzen](topping) und eine [Salami](topping) [Pizza](meal).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bei der Gruppe muss hier erkannt werden, welche zwei Entites zusammen gehören:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Ich hätte gerne eine große [Pizza](meal) mit [Pilzen](topping) und eine [Salami](topping) [Pizza](meal).
Group 1: [Pizza](meal) [Pilzen](topping)
Group 2: [Salami](topping) [Pizza](meal)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nutzung_von_entity_roles_und_entity_groups"><a class="anchor" href="#_nutzung_von_entity_roles_und_entity_groups"></a>6.4.3. Nutzung von Entity Roles und Entity Groups</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Um diese Features nutzen zu können muss in der <code>Pipeline</code> entweder der <code>CRFEntityExtractor</code> oder der <code>DIETClassifier</code>
verwendet werden, da diese als einzige Entity Extractors role und group labels erkennen können.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Man kann entweder ein <code>Form</code> verwenden oder eine <code>Custom Action</code> machen um <code>Entity Roles</code> und <code>Entity Groups</code> zu verwenden.</p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/blog/introducing-entity-roles-and-groups/" class="bare">https://rasa.com/blog/introducing-entity-roles-and-groups/</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_actions"><a class="anchor" href="#_actions"></a>6.5. Actions</h3>
<div class="paragraph">
<p>Es gibt 2 verschiedene Arten von Messages:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Static Messages: Diese sind unabhängig vom User Input und benötigen keinen Action Server</p>
</li>
<li>
<p>Dynamic Messages: Diese sind abhängig vom User Input und benötigen einen Action Server</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Der <a href="#rasa_action_server">Rasa Action Server</a> führt sogenannte Custom Actions für einen Rasa Open Source Conversation assistent aus.</p>
</div>
<div class="paragraph">
<p>Wenn dein Assistant eine gewisse Custom Action vorhersagt, sendet der Rasa Server einen POST request an den Actionserver mit einer JSON Payload mit dem Namen der vorhergesagten Action, der Conversation ID, den Inhalten des Trackers und den Inhalten der Domain.</p>
</div>
</div>
<div class="sect2">
<h3 id="_forms"><a class="anchor" href="#_forms"></a>6.6. Forms</h3>
<div class="paragraph">
<p>Um mehrere Informationen von einem Benutzer zu bekommen eignen sich Forms.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Um Forms zu verwenden, muss die <code>RulePolicy</code> in der Policy Konfiguration eingetragen sein.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Um ein Formular hinzuzufügen, muss man dies in der <code>forms</code> Section in dem <code>domain.yml</code> File angeben.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>forms:
  restaurant_form:
    required_slots:
        cuisine:
          - type: from_entity
            entity: cuisine
        num_people:
          - type: from_entity
            entity: number</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/forms/" class="bare">https://rasa.com/docs/rasa/forms/</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_synonyms"><a class="anchor" href="#_synonyms"></a>6.7. Synonyms</h3>
<div class="paragraph">
<p>Mithilfe von Synonymen kann man extrahierten Entities einen anderen Wert geben, als sie eigentlich vorher hatten, wenn diese
in der Bedeutung gleich sind. Wenn man also mit verschiedenen Wörtern dasselbe meint, kann man sich <code>Synonyms</code> zur Hilfe nehmen.</p>
</div>
<div class="paragraph">
<p>Ein Beispiel dafür wäre Folgendes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>nlu:
- synonym: credit
  examples: |
    - credit card account
    - credit account</pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/nlu-training-data/#synonyms" class="bare">https://rasa.com/docs/rasa/nlu-training-data/#synonyms</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_rules"><a class="anchor" href="#_rules"></a>6.8. Rules</h3>
<div class="paragraph">
<p>Rules werden angegeben um kleine Teile von Unterhaltungen anzugeben, die immer wieder gleich behandelt werden sollen.</p>
</div>
<div class="paragraph">
<p>Rules sollten allerdings nicht allzu häufig verwendet werden, weil man nie alle Konversationen vorhersagen kann.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Um Rules zu verwenden, muss die <code>RulePolicy</code> in der Policy Konfiguration eingetragen sein.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Um eine Rule zu verwenden, schreibt man folgendes in sein <code>rules.yml</code> File:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>rules:

- rule: Say `hello` whenever the user sends a message with intent `greet`
  steps:
  - intent: greet
  - action: utter_greet</pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/rules" class="bare">https://rasa.com/docs/rasa/rules</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rasa_action_server"><a class="anchor" href="#rasa_action_server"></a>7. Rasa Action Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Es gibt 2 verschiedene Arten von Messages:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Static Messages: Diese sind unabhängig vom User Input und benötigen keinen Action Server</p>
</li>
<li>
<p>Dynamic Messages: Diese sind abhängig vom User Input und benötigen einen Action Server</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Der Rasa Actionserver führt sogenannte Custom Actions für einen Rasa Open Source Conversation assistent aus.</p>
</div>
<div class="paragraph">
<p>Wenn dein Assistant eine gewisse Custom Action vorhersagt, sendet der Rasa Server einen POST request an den Actionserver mit einer JSON Payload mit dem Namen der vorhergesagten Action, der Conversation ID, den Inhalten des Trackers und den Inhalten der Domain.</p>
</div>
<div class="sect2">
<h3 id="_running_the_rasa_sdk_action_server"><a class="anchor" href="#_running_the_rasa_sdk_action_server"></a>7.1. Running the Rasa SDK Action Server</h3>
<div class="paragraph">
<p>Es gibt zwei verschiedene Arten, um den Actionserver zu starten. Diese sind abhängig davon, ob man <code>rasa</code> installiert hat oder nicht.</p>
</div>
<div class="paragraph">
<p>Wenn man rasa installiert hat, kann man folgenden Befehl nützen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa run actions</code></pre>
</div>
</div>
<div class="paragraph">
<p>Oder sonst sollte man folgenden Befehl benützen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>python -m rasa_sdk --actions actions</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are now running two servers, one for <code>Rasa Open Source</code> and the <code>Rasa Action Server</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_airtable"><a class="anchor" href="#_airtable"></a>8. Airtable</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For the tutorial <code>Rasa for Beginners</code> on Udemy we used a template for an Airtable workspace.</p>
</div>
<div class="paragraph">
<p>You need to define three keys when working with Airtable.</p>
</div>
<div class="paragraph">
<p>The <code>API_KEY</code> which is obtained on your <code>/account</code> page.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/api_key.png" alt="api key" width="80%"></span></p>
</div>
<div class="paragraph">
<p>Your <code>BASE_ID</code> which you when you&#8217;re in your <code>API Docs</code>. And the
<code>TABLE_NAME</code> which you&#8217;ll also get there.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/images/base_id.png" alt="base id">
</div>
</div>
<div class="paragraph">
<p>Now export your keys in a <code>.env.sh</code> and <code>.env</code> file.</p>
</div>
<div class="paragraph">
<p>Note that the <code>TABLE_NAME</code> uses HTML to encode the name and <code>%20</code> is for the space character.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>export AIRTABLE_API_KEY=key***
export BASE_ID=app***
export TABLE_NAME=Table%201</code></pre>
</div>
</div>
<div class="paragraph">
<p>To keep our credentials separate from other code we&#8217;ll use <code>python-dotenv</code>. You install it through:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pip install python-dotenv</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now to run the action server you use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa run actions</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in another terminal you start <code>Rasa Open Source</code> through:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa shell</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now after you&#8217;ve taken part in the survey a new line in your Airtable will be inserted</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/airtable-new.png" alt="airtable new"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_twilio"><a class="anchor" href="#_twilio"></a>9. Twilio</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ngrok"><a class="anchor" href="#_ngrok"></a>9.1. Ngrok</h3>
<div class="paragraph">
<p>To connect to Twilio we&#8217;ll have to use this tool, which simulates hosting a system to a server. It creates a tunnel URL.</p>
</div>
<div class="paragraph">
<p>To install Ngrok use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>sudo snap install ngrok</code></pre>
</div>
</div>
<div class="paragraph">
<p>After that connect Ngrok to your account through</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>ngrok auththoken &lt;your token&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can use Ngrok to create a tunnel for you. In this case
we want it for the <code>http port 5005</code>.</p>
</div>
<div class="paragraph">
<p>Note that this URL is only temporary and you always have to restart it when you want to use it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>ngrok http 5005</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>Rasa for beginners</code> course we connect to Twilio, which provides developer-friendly APIs for text messages.</p>
</div>
<div class="paragraph">
<p>At first you have to register for an account.</p>
</div>
<div class="paragraph">
<p>In your <code>credentials.yml</code> file you can now save the data of Twilio.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>twilio:
  account_sid: "&lt;your SID&gt;"
  auth_token: "&lt;your token&gt;"
  twilio_number: "&lt;your twilio number&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you need to restart Rasa through</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa run</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also Ngrok should be running and you have to insert your URL
into Twilio.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/twilio-ngrok.png" alt="twilio ngrok"></span></p>
</div>
<div class="paragraph">
<p>Now you can chat with your assistant via SMS.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/chat-twilio.jpeg" alt="chat twilio" width="30%"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/chat-info.jpeg" alt="chat info" width="30%"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conversation_driven_development_cdd"><a class="anchor" href="#_conversation_driven_development_cdd"></a>10. Conversation-Driven Development CDD</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Conversation-Driven Development is the process of listening to your users and using those insights to improve your AI assistant.</p>
</div>
<div class="paragraph">
<p>The way we wrote phrases that the user might come up with doesn&#8217;t
connect to the real world. People are different in the way that
they phrase something based on their age, background and other factors.</p>
</div>
<div class="paragraph">
<p>Also there&#8217;s the "curse of knowledge" which means that we know our
application well and we know how to phrase something in order
to get the correct answer but other people don&#8217;t have that.
So in other words we can&#8217;t imagine how an user who doesn&#8217;t know
something might use the bot.</p>
</div>
<div class="paragraph">
<p>It is really important that you test your application with real
world people even though it might feel uncomfortable at first.</p>
</div>
<div class="paragraph">
<p>There are 6 factors of CDD:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Share</p>
</li>
<li>
<p>Review</p>
</li>
<li>
<p>Annotate</p>
</li>
<li>
<p>Test</p>
</li>
<li>
<p>Track</p>
</li>
<li>
<p>Fix</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rasa_x_2"><a class="anchor" href="#_rasa_x_2"></a>11. Rasa X</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Layers on top of Rasa Open Source and helps you build a better assistant</p>
</li>
<li>
<p>Can be deployed anywhere, so your training data stays secure and proprietary</p>
</li>
<li>
<p>Runs in the browser</p>
</li>
<li>
<p>Let&#8217;s you talk to your bot</p>
</li>
<li>
<p>Helps to correct model predictions</p>
</li>
<li>
<p>Share your application with test users</p>
</li>
<li>
<p>Review conversations</p>
</li>
<li>
<p>Annotate user messages</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the process of <code>Deployment</code> you expose your application to a
server rather than still using it locally.</p>
</div>
<div class="sect2">
<h3 id="_installation_3"><a class="anchor" href="#_installation_3"></a>11.1. Installation</h3>
<div class="paragraph">
<p>Es gibt verschieden Arten, um Rasa X zu installieren.</p>
</div>
<div class="sect3">
<h4 id="_local_mode"><a class="anchor" href="#_local_mode"></a>11.1.1. Local Mode</h4>
<div class="paragraph">
<p>Um Rasa X lokal zu installieren, verwendet man folgenden Befehl:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>pip3 install rasa-x --extra-index-url https://pypi.rasa.com/simple</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_troubleshooting"><a class="anchor" href="#_troubleshooting"></a>11.1.2. Troubleshooting</h4>
<div class="paragraph">
<p>Dies kann allerdings zu Problemen führen, bei denen die Installation stockt und nie beendet wird. Dies liegt daran, dass in pip 20.3 obenstehendes nicht funktioniert. Man kann also entweder eine ältere Version verwenden oder einstellen, dass noch die alte Logik verwenden sollte.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>INFO: pip is looking at multiple versions of sniffio to determine which version is compatible with other requirements. This could take a while.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://forum.rasa.com/t/rasa-x-install-stucked/39640" class="bare">https://forum.rasa.com/t/rasa-x-install-stucked/39640</a></p>
</div>
<div class="paragraph">
<p><a href="https://stackoverflow.com/questions/65806524/pip-install-rasa-x-takes-forever/65812957#65812957" class="bare">https://stackoverflow.com/questions/65806524/pip-install-rasa-x-takes-forever/65812957#65812957</a></p>
</div>
<div class="paragraph">
<p>Außerdem kann es immer noch zu Problemen mit den Versionen der verschiedenen Packages und Rasa X kommen. In folgenden Links werden Beispiele dafür und die Lösungen für diese Probleme geschildert.</p>
</div>
<div class="paragraph">
<p><a href="https://forum.rasa.com/t/rasa-x-dont-work/46931/9" class="bare">https://forum.rasa.com/t/rasa-x-dont-work/46931/9</a></p>
</div>
<div class="paragraph">
<p><a href="https://forum.rasa.com/t/rasa-x-0-23-0-error-in-endpoints-yml/21744/4" class="bare">https://forum.rasa.com/t/rasa-x-0-23-0-error-in-endpoints-yml/21744/4</a></p>
</div>
<div class="paragraph">
<p>Um Rasa X nun zu starten, verwendet man folgenden Befehl:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>rasa x</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dieser öffnet einen Browser Tab unter der Adresse <code><a href="http://localhost:5002" class="bare">http://localhost:5002</a></code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mit_docker_compose"><a class="anchor" href="#_mit_docker_compose"></a>11.1.3. Mit Docker Compose</h4>
<div class="paragraph">
<p>Rasa stellt zwei verschiedene Anleitungen zur Verfügung, um Rasa X auf einem Server als Set von Docker Containern zu erstellen.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Mithilfe eines Install Scripts</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa-x/installation-and-setup/install/docker-compose/#docker-compose-install-script" class="bare">https://rasa.com/docs/rasa-x/installation-and-setup/install/docker-compose/#docker-compose-install-script</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Manuell</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa-x/installation-and-setup/install/docker-compose/#docker-compose-manual-install" class="bare">https://rasa.com/docs/rasa-x/installation-and-setup/install/docker-compose/#docker-compose-manual-install</a></p>
</div>
<div class="paragraph">
<p><a href="https://forum.rasa.com/t/rasa-x-production-server-is-giving-error-as-could-not-launch-runtime/38058" class="bare">https://forum.rasa.com/t/rasa-x-production-server-is-giving-error-as-could-not-launch-runtime/38058</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa-x/changelog/compatibility-matrix/" class="bare">https://rasa.com/docs/rasa-x/changelog/compatibility-matrix/</a></p>
</div>
<div class="paragraph">
<p><a href="https://forum.rasa.com/t/i-cant-login-to-rasa-x/31726/8" class="bare">https://forum.rasa.com/t/i-cant-login-to-rasa-x/31726/8</a></p>
</div>
<div class="paragraph">
<p><a href="https://stackoverflow.com/questions/64678048/getting-error-when-set-rasa-x-admin-password-with-default-command" class="bare">https://stackoverflow.com/questions/64678048/getting-error-when-set-rasa-x-admin-password-with-default-command</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa-x/changelog/rasa-x-changelog" class="bare">https://rasa.com/docs/rasa-x/changelog/rasa-x-changelog</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/changelog" class="bare">https://rasa.com/docs/rasa/changelog</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_production"><a class="anchor" href="#_production"></a>11.2. Production</h3>
<div class="paragraph">
<p>In Rasa X kann man seinen Bot mit Gästebenutzern teilen, die dann mit dem Bot chatten können und so bei der Verbesserung einen wichtigen Teil beitragen können.</p>
</div>
<div class="paragraph">
<p>Dafür klickt man auf den Share-Button und gibt dann einen Namen und eine Beschreibung ein.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/share-bot.png" alt="share bot" width="80%"></span></p>
</div>
<div class="paragraph">
<p>Dieser Link funktioniert allerdings nur lokal und verweist auf den <code>localhost</code></p>
</div>
<div class="sect3">
<h4 id="_ngrok_2"><a class="anchor" href="#_ngrok_2"></a>11.2.1. Ngrok</h4>
<div class="paragraph">
<p>Dafür kann man <code>Ngrok</code> beispielsweise verwenden.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>ngrok http 5002</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting_2"><a class="anchor" href="#_troubleshooting_2"></a>12. Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_port_5005_already_in_use"><a class="anchor" href="#_port_5005_already_in_use"></a>12.1. Port 5005 already in use</h3>
<div class="paragraph">
<p>If you&#8217;re having trouble with <code>rasa init</code> because the port <code>5005</code> is already in use try to find the process, that is listening on this port, and kill it for example like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>lsof -i -P -n | grep LISTEN
kill &lt;id of process&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/kill_process.png" alt="kill process"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_rasa_command_not_found"><a class="anchor" href="#_rasa_command_not_found"></a>12.2. Rasa: command not found</h3>
<div class="paragraph">
<p>This could be because pip, pip3 and pip3.8 are all installed in <code>/home/user/.local/bin</code> which is not in the PATH. In order to fix this you have to export this path to to the path variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>export PATH="$HOME/.local/bin:$PATH"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links"><a class="anchor" href="#_links"></a>13. Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Links used for this documentation are:</p>
</div>
<div class="paragraph">
<p><a href="https://www.udemy.com/course/rasa-for-beginners/" class="bare">https://www.udemy.com/course/rasa-for-beginners/</a></p>
</div>
<div class="paragraph">
<p><a href="https://blog.rasa.com/conversation-driven-development-a-better-approach-to-building-ai-assistants/" class="bare">https://blog.rasa.com/conversation-driven-development-a-better-approach-to-building-ai-assistants/</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/" class="bare">https://rasa.com/docs/rasa/</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/docker/building-in-docker/" class="bare">https://rasa.com/docs/rasa/docker/building-in-docker/</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/tuning-your-model" class="bare">https://rasa.com/docs/rasa/tuning-your-model</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasa.com/docs/rasa/components" class="bare">https://rasa.com/docs/rasa/components</a></p>
</div>
<div class="paragraph">
<p><a href="https://rasahq.github.io/rasa-nlu-examples/" class="bare">https://rasahq.github.io/rasa-nlu-examples/</a></p>
</div>
<div class="paragraph">
<p>Singh, Abhishek, Ramasubramanian, Karthik, Shivam, Shrey: Building an Enterprise Chatbot
Work with Protected Enterprise Data Using Open Source Frameworks <strong>ISBN</strong>: [978-1-4842-5034-1]</p>
</div>
<div class="paragraph">
<p><a href="https://forum.rasa.com/t/module-tensorflow-python-keras-engine-training-has-no-attribute-enable-multi-worker/41502" class="bare">https://forum.rasa.com/t/module-tensorflow-python-keras-engine-training-has-no-attribute-enable-multi-worker/41502</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.udemy.com/course/learn-to-build-incredible-ai-chatbots-using-rasa/" class="bare">https://www.udemy.com/course/learn-to-build-incredible-ai-chatbots-using-rasa/</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-11-06 22:57:26 UTC
</div>
</div>
</body>
</html>